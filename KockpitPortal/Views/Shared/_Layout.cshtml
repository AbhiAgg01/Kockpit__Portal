@using Microsoft.AspNetCore.Http;
@using System.Data;
@using KockpitPortal.Models.Notification;
@using KockpitPortal.Models.Cart;
@{
    List<tblCart> _products = new List<tblCart>();
    List<tblNotification> _notifications = new List<tblNotification>();
    string data = Context.Session.GetString("Notification");
    @if (data != null)
        _notifications = Newtonsoft.Json.JsonConvert.DeserializeObject<List<tblNotification>>(data);

    string products = Context.Session.GetString("Prodcucts");
    @if (products != null)
        _products = Newtonsoft.Json.JsonConvert.DeserializeObject<List<tblCart>>(products);

}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@((ViewData["PageTitle"] == null ? "Kockpit Portal" : ViewData["PageTitle"].ToString().Split().LastOrDefault()))</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/Theme/plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/Theme/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="~/Theme/plugins/toastr/toastr.min.css">

    <!-- Theme style -->
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="~/Theme/dist/css/adminlte.min.css">
    <script src="https://code.iconify.design/2/2.1.0/iconify.min.js"></script>
    <link href="~/Theme/plugins/fstdropdown-master/fstdropdown.css" rel="stylesheet" />
</head>
<body>
    <header class="header">
        <div class="header-left">
            <div class="menu-toggle">
                <span class="iconify menu-toggle-icon" data-icon="heroicons-outline:menu-alt-2"></span>
            </div>
            <h2 class="header-heading">@ViewData["PageTitle"]</h2>
        </div>
        <div class="header-right">
            <div class="header-btn full-screen-toggle" tabindex="1">
                <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">
                    <g id="Group_3145" data-name="Group 3145" transform="translate(-1504 -40)">
                        <g id="Layer_29" data-name="Layer 29" transform="translate(1502 38)">
                            <path id="Path_15864" data-name="Path 15864"
                                  d="M2,7.5v-4A1.5,1.5,0,0,1,3.5,2h4a.5.5,0,0,1,0,1h-4a.5.5,0,0,0-.5.5v4a.5.5,0,0,1-1,0Zm21-4v4a.5.5,0,0,1-1,0v-4a.5.5,0,0,0-.5-.5h-4a.5.5,0,0,1,0-1h4A1.5,1.5,0,0,1,23,3.5Zm0,14v4A1.5,1.5,0,0,1,21.5,23h-4a.5.5,0,0,1,0-1h4a.5.5,0,0,0,.5-.5v-4a.5.5,0,0,1,1,0Zm-15,5a.5.5,0,0,1-.5.5h-4A1.5,1.5,0,0,1,2,21.5v-4a.5.5,0,0,1,1,0v4a.5.5,0,0,0,.5.5h4A.5.5,0,0,1,8,22.5Z"
                                  fill="#687c97" />
                        </g>
                    </g>
                </svg>
                <div class="header-tooltip">Fullscreen</div>
            </div>
            <div class="header-btn notifications" tabindex="1">
                <span class="iconify" data-icon="clarity:bell-line"></span>
                @if (_notifications != null && _notifications.Count() > 0)
                {
                    <div class="notification-dot"></div>
                }
                <div class="header-tooltip">Notification</div>
                <div class="notification-dropdown">
                    @if (_notifications != null && _notifications.Count() > 0)
                    {
                        @foreach (var item in _notifications)
                        {

                            if (string.Equals(item.Subject, "License Expiring", StringComparison.CurrentCultureIgnoreCase))
                            {
                                <div class="notification">
                                    <p class="message-head">@item.Subject</p>
                                    <p class="message-body">@item.Message</p>
                                </div>
                            }
                            else
                            {
                                if (string.Equals(Context.Session.GetString("SessionInfo_Role"), "ADMIN", StringComparison.OrdinalIgnoreCase) || string.Equals(Context.Session.GetString("SessionInfo_Role"), "SUBADMIN", StringComparison.OrdinalIgnoreCase))
                                {
                                    <div class="notification">
                                        <a class="message-head" href="@Url.Action("Index", "RaiseIssue", new { id = item.Id })">@item.Subject</a>
                                        <p class="message-body">@item.Message</p>
                                    </div>
                                }
                            }
                        }
                    }
                    else
                    {
                        <div class="notification text-center">
                            <p class="message-head">Notifications</p>
                            <p class="message-body">No Notification Available</p>
                        </div>
                    }
                    <hr />
                    <a class="checkout-page-link" href="@Url.Action("Index", "Notification")">See All</a>
                </div>
            </div>

            <div class="cart">
                <div class="header-btn cart-btn" tabindex="1">
                    <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="23.451" height="22.823"
                         viewBox="0 0 23.451 22.823">
                        <g id="shopping-cart" transform="translate(0 -6.028)">
                            <g id="Group_3511" data-name="Group 3511" transform="translate(0 6.028)">
                                <g id="Group_3510" data-name="Group 3510" transform="translate(0 0)">
                                    <path id="Path_15911" data-name="Path 15911"
                                          d="M99.037,350.322a2.384,2.384,0,1,0,2.384,2.384A2.384,2.384,0,0,0,99.037,350.322Zm0,3.708a1.324,1.324,0,1,1,1.324-1.324A1.324,1.324,0,0,1,99.037,354.03Z"
                                          transform="translate(-91.585 -332.266)" fill="#6e768e" />
                                    <path id="Path_15912" data-name="Path 15912"
                                          d="M297.568,350.322a2.384,2.384,0,1,0,2.384,2.384A2.384,2.384,0,0,0,297.568,350.322Zm0,3.708a1.324,1.324,0,1,1,1.324-1.324A1.324,1.324,0,0,1,297.568,354.03Z"
                                          transform="translate(-279.602 -332.266)" fill="#6e768e" />
                                    <path id="Path_15913" data-name="Path 15913"
                                          d="M23.34,9.709a.678.678,0,0,0-.435-.22L5.2,9.242l-.49-1.511a2.5,2.5,0,0,0-2.339-1.7H.544a.549.549,0,0,0,0,1.1H2.367a1.416,1.416,0,0,1,1.306.962L7.127,18.61l-.272.632a2.66,2.66,0,0,0,.245,2.39,2.524,2.524,0,0,0,2.04,1.154H19.722a.549.549,0,0,0,0-1.1H9.14A1.385,1.385,0,0,1,8,21.028a1.524,1.524,0,0,1-.136-1.319l.218-.494,11.453-1.209A3,3,0,0,0,22.116,15.7l1.306-5.522A.471.471,0,0,0,23.34,9.709Zm-2.285,5.742A1.856,1.856,0,0,1,19.4,16.907L8.079,18.088l-2.53-7.747,16.676.247Z"
                                          transform="translate(0 -6.028)" fill="#6e768e" />
                                </g>
                            </g>
                        </g>
                    </svg>
                    <div class="cart-product-count" id="productCount">
                        @_products.Count()
                    </div>
                    <div class="header-tooltip">Cart</div>
                </div>
                <div class="cart-dropdown">
                    <div class="cart-dropdown-product-list">
                        @if (_products != null && _products.Count() > 0)
                        {
                            @foreach (var item in _products)
                            {
                                <div class="item" id="div_@item.Id">
                                    <div class="product-header-row">
                                        <div class="product-name">
                                            <p class="name-main">@item.OfferingName</p>
                                            <p class="name-sub">@item.PlanName</p>
                                        </div>
                                        <a href="#removeItem" id="@item.Id" total="@_products.Count()" onclick="RemoveProduct(this);">remove</a>
                                    </div>
                                    <p class="price" id="price_@item.Id">$@(item.Price * item.TotalLicense) </p>
                                    <div class="item-counter">
                                        <button class="decrease-count" onclick="updateCart(this);" action="sub" id="@item.Id" price="@item.Price">-</button>
                                        <p class="count" id="count_@item.Id">@item.TotalLicense</p>
                                        <button class="increase-count" onclick="updateCart(this);" action="add" id="@item.Id" price="@item.Price">+</button>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                    <a class="checkout-page-link" href="@Url.Action("Checkout","PlanInfo")">Checkout Page</a>
                </div>
            </div>
            <div class="user">
                <p class="name">
                    <span>@Context.Session.GetString("SessionInfo_CompanyName")</span>
                </p>
                <div class="header-btn" tabindex="1">
                    <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="18.693" height="19.028"
                         viewBox="0 0 18.693 19.028">
                        <g id="Group_3149" data-name="Group 3149" transform="translate(-1831 -39.676)">
                            <g id="user" transform="translate(1807.079 12.676)">
                                <path id="Path_15865" data-name="Path 15865"
                                      d="M51.727,32.363a5.363,5.363,0,1,0-5.363,5.363A5.364,5.364,0,0,0,51.727,32.363Zm-9.328,0a3.964,3.964,0,1,1,3.964,3.964A3.961,3.961,0,0,1,42.4,32.363Z"
                                      transform="translate(-13.096 0)" fill="#687c97" />
                                <path id="Path_15866" data-name="Path 15866"
                                      d="M24.29,87.343a.658.658,0,0,0,.35.093.676.676,0,0,0,.606-.35,9.228,9.228,0,0,1,16.067,0,.7.7,0,0,0,1.213-.7,10.649,10.649,0,0,0-18.515,0,.7.7,0,0,0,.28.956Z"
                                      transform="translate(0 -41.408)" fill="#687c97" />
                            </g>
                        </g>
                    </svg>
                    <div class="header-tooltip">User</div>
                </div>
                <div class="header-dropdown">
                    <a href="@Url.Action("Index","Profile")">
                        <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="11.469"
                             height="11.675" viewBox="0 0 11.469 11.675">
                            <g id="user" transform="translate(-23.922 -27)">
                                <path id="Path_15865" data-name="Path 15865"
                                      d="M47.581,30.291a3.291,3.291,0,1,0-3.291,3.291A3.291,3.291,0,0,0,47.581,30.291Zm-5.723,0a2.432,2.432,0,1,1,2.432,2.432A2.43,2.43,0,0,1,41.858,30.291Z"
                                      transform="translate(-14.635)" fill="#3aa0ff" />
                                <path id="Path_15866" data-name="Path 15866"
                                      d="M24.147,84.892a.4.4,0,0,0,.215.057.415.415,0,0,0,.372-.215,5.662,5.662,0,0,1,9.858,0,.429.429,0,1,0,.744-.429,6.533,6.533,0,0,0-11.36,0,.43.43,0,0,0,.172.587Z"
                                      transform="translate(0 -46.274)" fill="#3aa0ff" />
                            </g>
                        </svg></span>Profile
                    </a>
                    <a href="@Url.Action("Index","ChangePassword")">
                        <svg class="iconify" width="11.469" height="11.469" xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 13.92 14.3">
                            <g id="Layer_2" data-name="Layer 2">
                                <g id="Layer_1-2" data-name="Layer 1">
                                    <path d="M13.57,8.14,13,7.78a.71.71,0,0,1-.26-1A.62.62,0,0,1,13,6.54l.62-.35a.68.68,0,0,0,.33-.74,7.47,7.47,0,0,0-.31-1,.67.67,0,0,0-.7-.4l-.72.07a.71.71,0,0,1-.78-.63.68.68,0,0,1,.06-.37l.29-.66a.68.68,0,0,0-.17-.8,7,7,0,0,0-.83-.6.66.66,0,0,0-.81.09l-.53.47a.7.7,0,0,1-1,0,.74.74,0,0,1-.17-.33L8.08.56A.67.67,0,0,0,7.48,0L7,0,6.45,0a.68.68,0,0,0-.6.54l-.15.7a.71.71,0,0,1-.84.56.75.75,0,0,1-.34-.18L4,1.16a.66.66,0,0,0-.8-.08,7,7,0,0,0-.83.6.67.67,0,0,0-.17.8l.29.65a.71.71,0,0,1-.36.94.78.78,0,0,1-.37.06L1,4.05a.68.68,0,0,0-.7.4,7,7,0,0,0-.32,1,.67.67,0,0,0,.33.74L1,6.53a.72.72,0,0,1,.27,1A.78.78,0,0,1,1,7.77l-.62.35A.68.68,0,0,0,0,8.86a6.6,6.6,0,0,0,.32,1,.66.66,0,0,0,.7.4l.71-.07a.7.7,0,0,1,.78.63.67.67,0,0,1,0,.37l-.29.65a.67.67,0,0,0,.16.79,8.44,8.44,0,0,0,.83.61A.69.69,0,0,0,4,13.13l.53-.48a.71.71,0,0,1,1,0A.8.8,0,0,1,5.7,13l.14.7a.69.69,0,0,0,.6.55l.52,0,.51,0a.67.67,0,0,0,.6-.55l.15-.7a.71.71,0,0,1,.84-.55.65.65,0,0,1,.34.17l.53.48a.68.68,0,0,0,.8.09,10,10,0,0,0,.84-.61.68.68,0,0,0,.17-.78l-.29-.65a.71.71,0,0,1,.36-.94.57.57,0,0,1,.36-.06l.72.08a.69.69,0,0,0,.7-.4,8.57,8.57,0,0,0,.31-1A.67.67,0,0,0,13.57,8.14ZM13,9.54l-.69-.08a1.35,1.35,0,0,0-.74.12,1.43,1.43,0,0,0-.72,1.89l.29.63a7.9,7.9,0,0,1-.68.5l-.52-.47a1.43,1.43,0,0,0-2.36.77l-.14.68H6.55l-.14-.68a1.43,1.43,0,0,0-2.36-.77l-.52.47a7.9,7.9,0,0,1-.68-.5l.29-.63a1.44,1.44,0,0,0-1.47-2L1,9.54a5.7,5.7,0,0,1-.25-.8l.6-.35a1.42,1.42,0,0,0,.53-.53,1.44,1.44,0,0,0-.53-1.95l-.6-.34A5.31,5.31,0,0,1,1,4.77l.69.07a1.39,1.39,0,0,0,.75-.12,1.42,1.42,0,0,0,.71-1.89L2.85,2.2a5.6,5.6,0,0,1,.68-.49L4,2.17a1.39,1.39,0,0,0,.68.35A1.43,1.43,0,0,0,6.41,1.4L6.55.73,7,.71l.42,0,.14.67a1.38,1.38,0,0,0,.34.67,1.43,1.43,0,0,0,2,.1l.52-.46a7.76,7.76,0,0,1,.68.49l-.29.63a1.56,1.56,0,0,0-.12.74,1.43,1.43,0,0,0,1.58,1.27L13,4.76a8.27,8.27,0,0,1,.26.8l-.6.35a1.5,1.5,0,0,0-.53.53,1.42,1.42,0,0,0,.53,2l.6.35A7.46,7.46,0,0,1,13,9.54Z"
                                          style="fill:#fc6" />
                                    <g id="Path_15863" data-name="Path 15863">
                                        <path d="M3.39,6.58a.35.35,0,0,1,.4-.28h0a.42.42,0,0,1,.29.46A2.86,2.86,0,1,0,7.33,4.31a2.89,2.89,0,0,0-2.49.91.4.4,0,0,1-.53.08.36.36,0,0,1-.11-.48l0,0a3.59,3.59,0,1,1-.84,1.79Z"
                                              style="fill:#ffb369" />
                                    </g>
                                </g>
                            </g>
                        </svg>
                        Change Password
                    </a>
                    <a data-toggle="modal" data-target="#logoutModal" style="cursor:pointer;">
                        <svg class="iconify" id="_1._Icons_Line_ab-testing"
                             data-name="1. Icons / Line /  ab-testing" xmlns="http://www.w3.org/2000/svg" width="10.667"
                             height="13.334" viewBox="0 0 10.667 13.334">
                            <path id="file-export"
                                  d="M9,13.334H1.667A1.668,1.668,0,0,1,0,11.668v-10A1.669,1.669,0,0,1,1.667,0h6A.329.329,0,0,1,7.9.1L10.57,2.765a.327.327,0,0,1,.1.254V4.334a.333.333,0,1,1-.667,0v-1H7.667A.334.334,0,0,1,7.333,3V.667H1.667a1,1,0,0,0-1,1v10a1,1,0,0,0,1,1H9a1,1,0,0,0,1-1V10.334a.333.333,0,0,1,.667,0v1.334A1.668,1.668,0,0,1,9,13.334ZM8,1.139V2.668H9.529Zm.334,8.2a.333.333,0,0,1-.236-.57L9.529,7.334h-5.2a.333.333,0,1,1,0-.667h5.2L8.1,5.237a.334.334,0,1,1,.472-.472l2,2a.334.334,0,0,1,0,.472l-2,2A.331.331,0,0,1,8.333,9.335Z"
                                  fill="#fc5a5a" />
                        </svg>Log Out
                    </a>
                </div>
            </div>
        </div>
    </header>
    <div class="sidebar">
        <div class="sidebar-close-btn">
            <span class="iconify" data-icon="bi:x"></span>
        </div>
        <a href="@Url.Action("Dashboard","Home")" class="logo">
            <img src="~/assets/kockpit-logo.svg" alt="Logo">
            <p>Kockpit</p>
        </a>
        <div class="menu">
            <ul>
                <li>
                    <a class="menu-item-link mod1 @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA001" ? "active" : "" : "")" href="@Url.Action("Dashboard","Home")">
                        <svg class="iconify dashboard" xmlns="http://www.w3.org/2000/svg" width="15.339" height="15.339" viewBox="0 0 15.339 15.339">
                            <g id="dashboard_1_" data-name="dashboard (1)" transform="translate(-1 -1)">
                                <path id="Path_16032" data-name="Path 16032" d="M19.275,7.972H13.7a.7.7,0,0,1-.7-.7V1.7a.7.7,0,0,1,.7-.7h5.578a.7.7,0,0,1,.7.7V7.275A.7.7,0,0,1,19.275,7.972ZM14.394,6.578h4.183V2.394H14.394Z" transform="translate(-3.633)" fill="#687c97" />
                                <path id="Path_16033" data-name="Path 16033" d="M16.486,19.972a3.486,3.486,0,1,1,3.486-3.486,3.486,3.486,0,0,1-3.486,3.486Zm0-5.578a2.092,2.092,0,1,0,2.092,2.092A2.092,2.092,0,0,0,16.486,14.394Z" transform="translate(-3.633 -3.633)" fill="#687c97" />
                                <path id="Path_16034" data-name="Path 16034" d="M7.275,13H1.7a.7.7,0,0,0-.7.7v5.578a.7.7,0,0,0,.7.7H7.275a.7.7,0,0,0,.7-.7V13.7A.7.7,0,0,0,7.275,13Zm-.7,5.578H2.394V14.394H6.578Z" transform="translate(0 -3.633)" fill="#687c97" />
                                <path id="Path_16035" data-name="Path 16035" d="M7.275,7.972H1.7a.7.7,0,0,1-.7-.7V1.7A.7.7,0,0,1,1.7,1H7.275a.7.7,0,0,1,.7.7V7.275A.7.7,0,0,1,7.275,7.972ZM2.394,6.578H6.578V2.394H2.394Z" fill="#687c97" />
                            </g>
                        </svg>
                        <p>Dashboard</p>
                        <div class="menu-tooltip">Dashboard</div>
                    </a>
                </li>
                @if (Context.Session.GetString("SessionInfo_Role") == "ADMIN")
                {
                    <li>
                        <a class="menu-item has-dropdown @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA002" ? "dropdown-expanded" : "" : "")">

                            <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="15.617" height="15.617" viewBox="0 0 15.617 15.617">
                                <g id="businessman_2_" data-name="businessman (2)" transform="translate(0)">
                                    <g id="Group_5411" data-name="Group 5411" transform="translate(0)">
                                        <g id="Group_5410" data-name="Group 5410">
                                            <path id="Path_16011" data-name="Path 16011" d="M346.176,423.281a.61.61,0,1,0-1.194.249.637.637,0,0,1-.129.534.62.62,0,0,1-.488.232H341.61a.61.61,0,1,0,0,1.22h2.755a1.853,1.853,0,0,0,1.812-2.235Z" transform="translate(-330.599 -409.899)" fill="#687c97" />
                                            <path id="Path_16012" data-name="Path 16012" d="M8.428,8.32a6.711,6.711,0,0,1,4.963,2.952.61.61,0,1,0,1.013-.679,7.935,7.935,0,0,0-4.112-3.124,4.148,4.148,0,1,0-4.965,0A7.933,7.933,0,0,0,.04,13.382a1.853,1.853,0,0,0,1.812,2.235H4.515a.61.61,0,0,0,0-1.22H1.852a.62.62,0,0,1-.488-.232.637.637,0,0,1-.129-.534,6.742,6.742,0,0,1,5.893-5.3l-1.165,5.3a.61.61,0,0,0,.164.562l1.22,1.22a.61.61,0,0,0,.863,0l1.22-1.22a.61.61,0,0,0,.164-.562ZM4.881,4.148A2.928,2.928,0,1,1,7.954,7.073H7.809l-.143,0A2.932,2.932,0,0,1,4.881,4.148Zm2.9,9.966-.553-.553.553-2.514.553,2.514Z" transform="translate(0)" fill="#687c97" />
                                        </g>
                                    </g>
                                </g>
                            </svg>
                            <p>User Management</p>
                            <span class="iconify dropdown-icon" data-icon="bi:chevron-down"></span>
                            <div class="menu-tooltip">User Management</div>
                        </a>
                        <ul class="sidebar-dropdown-menu">
                            <li>
                                <a class="menu-item-link @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA002" ? "active" : "" : "")" href="@Url.Action("Index", "SubUserManagement")">
                                    <svg class="iconify user-mgmt" xmlns="http://www.w3.org/2000/svg" width="14.547" height="14.547" viewBox="0 0 14.547 14.547">
                                        <path id="support" d="M4.267,7.131A4.164,4.164,0,0,1,3.068,4.2,4.2,4.2,0,1,1,8.259,8.293,1.136,1.136,0,1,1,8.233,7.12,3.069,3.069,0,1,0,4.2,4.2,3.034,3.034,0,0,0,5.08,6.336a.568.568,0,1,1-.812.795Zm9.126,2.1a6.814,6.814,0,0,0-1.738-1.088.568.568,0,0,0-.461,1.039,5.683,5.683,0,0,1,1.449.9,2.266,2.266,0,0,1,.768,1.7v1.051a.569.569,0,0,1-.568.568H1.7a.569.569,0,0,1-.568-.568V11.791a2.266,2.266,0,0,1,.768-1.7,6.586,6.586,0,0,1,2.73-1.355.568.568,0,1,0-.286-1.1,7.72,7.72,0,0,0-3.194,1.6A3.4,3.4,0,0,0,0,11.791v1.051a1.707,1.707,0,0,0,1.7,1.7H12.842a1.707,1.707,0,0,0,1.7-1.7V11.791A3.4,3.4,0,0,0,13.393,9.234Zm0,0" fill="#687c97" />
                                    </svg>
                                    <p>Users</p>
                                    <div class="menu-tooltip">Users</div>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="menu-item has-dropdown @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA003" || ViewData["PageId"].ToString() == "OA004" || ViewData["PageId"].ToString() == "OA005" ? "dropdown-expanded" : "" : "")">
                            <svg class="iconify plan" xmlns="http://www.w3.org/2000/svg" width="17" height="14.806" viewBox="0 0 17 14.806">
                                <path id="testing" d="M16.8,45.391l-1.092-2V41.639a.664.664,0,0,0-1.328,0v1.227H2.689v-8.5H14.376v3.918a.664.664,0,1,0,1.328,0V33.7a.664.664,0,0,0-.664-.664H2.025a.664.664,0,0,0-.664.664v9.567L.2,45.391a1.625,1.625,0,0,0,.034,1.622,1.682,1.682,0,0,0,1.459.833H15.337A1.66,1.66,0,0,0,16.8,45.391Zm-1.171.964a.329.329,0,0,1-.288.164H10.788a.663.663,0,0,0-.662-.629H6.839a.663.663,0,0,0-.662.629H1.694a.369.369,0,0,1-.316-.182.3.3,0,0,1-.011-.308l1-1.834H14.628l1,1.834A.32.32,0,0,1,15.625,46.355ZM13.05,37.091a.664.664,0,0,1-.664.664H9.564a.664.664,0,1,1,0-1.328h2.822A.664.664,0,0,1,13.05,37.091Zm-5.19-.713L6.637,37.924a1.16,1.16,0,0,1-.825.43l-.076,0a1.16,1.16,0,0,1-.8-.319l-.018-.018-.712-.731a.664.664,0,0,1,.951-.927l.563.578,1.1-1.386a.664.664,0,0,1,1.042.824Zm5.19,4.465a.664.664,0,0,1-.664.664H9.564a.664.664,0,0,1,0-1.328h2.822A.664.664,0,0,1,13.05,40.842Zm-5.19-.717L6.64,41.668l0,0a1.16,1.16,0,0,1-.825.43l-.076,0a1.16,1.16,0,0,1-.8-.319l-.017-.016-.712-.727a.664.664,0,0,1,.949-.929l.564.576,1.1-1.387a.664.664,0,0,1,1.042.824Z" transform="translate(-0.001 -33.04)" fill="#687c97" />
                            </svg>
                            <p>Plans</p>
                            <span class="iconify dropdown-icon" data-icon="bi:chevron-down"></span>
                            <div class="menu-tooltip">Plans</div>
                        </a>
                        <ul class="sidebar-dropdown-menu">
                            <li>
                                <a href="@Url.Action("Index", "PlanInfo")" class="menu-item-link @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA003" ? "active" : "" : "")">
                                    <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="17" height="17.027" viewBox="0 0 17 17.027">
                                        <g id="Buy_plans" data-name="Buy plans" transform="translate(-3 -3)">
                                            <path id="Path_16039" data-name="Path 16039" d="M22.962,23a1.962,1.962,0,1,0,1.962,1.962A1.962,1.962,0,0,0,22.962,23Zm0,2.615a.654.654,0,1,1,.654-.654A.654.654,0,0,1,22.962,25.615Z" transform="translate(-6.231 -6.923)" fill="#687c97" />
                                            <path id="Path_16040" data-name="Path 16040" d="M12.808,16.077H7.577a.654.654,0,0,1,0-1.308H18.038a.654.654,0,0,0,.645-.546l1.308-7.846a.654.654,0,0,0-.645-.761H8.885a.654.654,0,1,0,0,1.308h9.69l-1.09,6.538H9.338L5.574,3.424A.654.654,0,0,0,4.962,3H3.654a.654.654,0,1,0,0,1.308h.855l3.433,9.154H7.577a1.955,1.955,0,0,0-.509,3.846,1.965,1.965,0,1,0,3.658.077h2.082a.654.654,0,0,0,0-1.308ZM9.538,18.038a.654.654,0,1,1-.654-.654.654.654,0,0,1,.654.654Z" transform="translate(0 0)" fill="#687c97" />
                                        </g>
                                    </svg>


                                    <p>Buy Plans</p>
                                    <div class="menu-tooltip">Buy Plans</div>
                                </a>
                            </li>
                            <li>
                                <a class="menu-item-link @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA004" ? "active" : "" : "")" href="@Url.Action("RequestedPlan", "PlanInfo")">
                                    <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="17" height="16.999" viewBox="0 0 17 16.999">
                                        <g id="requested_plans" data-name="requested plans" transform="translate(0)">
                                            <path id="Path_16041" data-name="Path 16041" d="M8.693,1.262a31.945,31.945,0,0,1,4.528.353h.007A3.025,3.025,0,0,1,15.4,3.69a16.683,16.683,0,0,1,.335,3.431,16.686,16.686,0,0,1-.335,3.431,3.025,3.025,0,0,1-2.173,2.074h-.007c-.425.085-1.318.186-2.276.257a1.262,1.262,0,0,0-.971.58c-.115.18-.237.368-.364.56-.421.638-.795,1.169-1.112,1.58-.317-.412-.691-.942-1.112-1.58-.127-.192-.249-.381-.364-.56a1.262,1.262,0,0,0-.971-.58c-.958-.071-1.851-.172-2.276-.257H3.771A3.025,3.025,0,0,1,1.6,10.552a16.684,16.684,0,0,1-.335-3.431A16.684,16.684,0,0,1,1.6,3.69,3.025,3.025,0,0,1,3.771,1.616h.007a31.949,31.949,0,0,1,4.528-.353h.387M8.306,0A32.858,32.858,0,0,0,3.53.377,4.278,4.278,0,0,0,.364,3.424,17.91,17.91,0,0,0,0,7.121a17.906,17.906,0,0,0,.364,3.7A4.278,4.278,0,0,0,3.53,13.865a23.971,23.971,0,0,0,2.429.278q.173.271.375.578c.54.817.953,1.387,1.265,1.783a1.16,1.16,0,0,0,.9.5,1.16,1.16,0,0,0,.9-.5c.313-.4.725-.966,1.265-1.783.135-.2.26-.4.375-.578a23.98,23.98,0,0,0,2.43-.278,4.278,4.278,0,0,0,3.167-3.047A17.906,17.906,0,0,0,17,7.121a17.906,17.906,0,0,0-.364-3.7A4.278,4.278,0,0,0,13.47.378,32.813,32.813,0,0,0,8.693,0H8.306Z" fill="#687c97" />
                                            <path id="Path_16042" data-name="Path 16042" d="M228.438,320.056a.547.547,0,0,1-.421.421,3.149,3.149,0,0,1-.518.04,3.082,3.082,0,0,1-.518-.04.547.547,0,0,1-.421-.421,3.147,3.147,0,0,1-.04-.518,3.08,3.08,0,0,1,.04-.518.547.547,0,0,1,.421-.421,3.145,3.145,0,0,1,.518-.04,3.078,3.078,0,0,1,.518.04.547.547,0,0,1,.421.421,3.144,3.144,0,0,1,.04.518A3.078,3.078,0,0,1,228.438,320.056Z" transform="translate(-218.999 -307.983)" fill="#687c97" />
                                            <path id="Path_16043" data-name="Path 16043" d="M176.206,92.952a.631.631,0,0,1-.626-.562,2.77,2.77,0,0,1,.078-.916,2.224,2.224,0,0,1,1.181-1.49c1.1-.545,1.181-1.161,1.181-1.337a1.141,1.141,0,0,0-.245-.659,1.631,1.631,0,0,0-1.336-.486,1.554,1.554,0,0,0-1.368.65,1.985,1.985,0,0,0-.321.658.631.631,0,0,1-1.234-.261,3.2,3.2,0,0,1,.543-1.15,2.843,2.843,0,0,1,2.381-1.159,2.521,2.521,0,0,1,2.844,2.406,2.826,2.826,0,0,1-1.881,2.467,1.184,1.184,0,0,0-.567,1.138.631.631,0,0,1-.558.7.624.624,0,0,1-.07,0Z" transform="translate(-167.741 -83.377)" fill="#687c97" />
                                        </g>
                                    </svg>

                                    <p>Requested Plans</p>
                                    <div class="menu-tooltip">Requested Plans</div>
                                </a>
                            </li>
                            <li>
                                <a class="menu-item-link @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA005" ? "active" : "" : "")" href="@Url.Action("ActivePlan", "PlanInfo")">
                                    <svg class="iconify" xmlns="http://www.w3.org/2000/svg" width="16.614" height="17.555" viewBox="0 0 16.614 17.555">
                                        <path id="My_plans" data-name="My plans" d="M7.782,16.831a.724.724,0,0,1-.724.724H2.9a2.9,2.9,0,0,1-2.9-2.9V2.9A2.9,2.9,0,0,1,2.9,0h8.9a2.9,2.9,0,0,1,2.9,2.9v7.673a.724.724,0,1,1-1.448,0V2.9A1.45,1.45,0,0,0,11.8,1.448H2.9A1.45,1.45,0,0,0,1.448,2.9V14.659A1.45,1.45,0,0,0,2.9,16.107H7.058A.724.724,0,0,1,7.782,16.831Zm8.529-6.018a.724.724,0,0,0-1.01.167l-3.568,4.984a.414.414,0,0,1-.6.031l-2.31-2.218a.724.724,0,1,0-1,1.044l2.312,2.22a1.867,1.867,0,0,0,1.284.513q.061,0,.123,0a1.866,1.866,0,0,0,1.327-.691l.024-.032,3.583-5A.724.724,0,0,0,16.311,10.813Zm-5.239-6.47H3.616a.724.724,0,1,0,0,1.448h7.456a.724.724,0,0,0,0-1.448Zm.724,3.62a.724.724,0,0,0-.724-.724H3.616a.724.724,0,1,0,0,1.448h7.456A.724.724,0,0,0,11.8,7.963Zm-8.18,2.172a.724.724,0,1,0,0,1.448H8.144a.724.724,0,0,0,0-1.448Zm0,0" fill="#687c97" />
                                    </svg>

                                    <p>My Plans & Licenses</p>
                                    <div class="menu-tooltip">My Plans & Licenses</div>
                                </a>
                            </li>
                        </ul>
                    </li>
                }
                <li>
                    <a class="menu-item-link @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA006" ? "active" : "" : "")" href="@Url.Action("Index", "RaiseIssue")">
                        <svg class="iconify" id="headset" xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17">
                            <g id="Group_5409" data-name="Group 5409" transform="translate(0 0)">
                                <g id="Group_5408" data-name="Group 5408">
                                    <path id="Path_16004" data-name="Path 16004" d="M3.984,6.74H2.672a5.845,5.845,0,0,1,11.31-1.6.664.664,0,1,0,1.246-.461A7.173,7.173,0,0,0,1.329,7.1,2.657,2.657,0,0,0,0,9.4v2.258a2.659,2.659,0,0,0,2.656,2.656H3.984a.664.664,0,0,0,.664-.664V7.4A.664.664,0,0,0,3.984,6.74ZM3.32,12.982H2.656a1.33,1.33,0,0,1-1.328-1.328V9.4A1.33,1.33,0,0,1,2.656,8.068H3.32Z" transform="translate(0 0)" fill="#687c97" />
                                    <path id="Path_16005" data-name="Path 16005" d="M223.172,203h-1.328a.664.664,0,0,0-.664.664V210.6a.665.665,0,0,1-.664.664H218.49v.021a1.328,1.328,0,1,0,0,1.286v.021h2.025a1.994,1.994,0,0,0,1.992-1.992v-.033h.664a2.659,2.659,0,0,0,2.656-2.656v-2.258A2.659,2.659,0,0,0,223.172,203Zm1.328,4.914a1.33,1.33,0,0,1-1.328,1.328h-.664v-4.914h.664a1.33,1.33,0,0,1,1.328,1.328Z" transform="translate(-208.828 -196.26)" fill="#687c97" />
                                </g>
                            </g>
                        </svg>
                        <p>Support</p>
                        <div class="menu-tooltip">Support</div>
                    </a>
                </li>

            </ul>
        </div>
    </div>
    @RenderBody()
    <partial name="~/Views/Login/_Logout.cshtml" />
    <!--<section class="main">
        <div class="menu" id="menu">
            <div class="logo">
                <a asp-action="Dashboard" asp-controller="Home"><img src="~/assets/logo.svg" alt="logo"></a>
            </div>
            <div class="menu-nav">
                <ul>
                    <li class="menu-nav-item outer-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA001" ? "active" : "" : "")">
                        <span class="iconify menu-item-icon" data-icon="bx:bxs-dashboard"></span>
                        <a asp-action="Dashboard" asp-controller="Home"><p>Dashboard</p></a>
                    </li>

                    @if (Context.Session.GetString("SessionInfo_Role") == "ADMIN")
                    {
                        <li class="menu-nav-item outer-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA002" ? "active" : "" : "")">
                            <span class="iconify menu-item-icon" data-icon="ic:round-manage-accounts"></span>
                            <p>User Management</p>
                            <i class="bi bi-chevron-down dropdown-icon"></i>
                        </li>
                        <div class="submenu">
                            <li class="menu-nav-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA002" ? "active" : "" : "")">
                                <span class="iconify" data-icon="clarity:users-line"></span>
                                <a asp-action="Index" asp-controller="SubUserManagement"><p>Users</p></a>
                            </li>
                        </div>
                        <li class="menu-nav-item outer-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA003" || ViewData["PageId"].ToString() == "OA004" || ViewData["PageId"].ToString() == "OA005" ? "active" : "" : "")">
                            <span class="iconify menu-item-icon" data-icon="eos-icons:service-plan"></span>
                            <p>Plans</p>
                            <i class="bi bi-chevron-down dropdown-icon"></i>
                        </li>
                        <div class="submenu">
                            <li class="menu-nav-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA003" ? "active" : "" : "")">
                                <span class="iconify" data-icon="icon-park-outline:buy"></span>
                                <p><a asp-action="Index" asp-controller="PlanInfo">Buy Plan</a></p>
                            </li>
                            <li class="menu-nav-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA004" ? "active" : "" : "")">
                                <span class="iconify" data-icon="ant-design:pull-request-outlined"></span>
                                <p><a asp-action="RequestedPlan" asp-controller="PlanInfo">Requested Plans</a></p>
                            </li>
                            <li class="menu-nav-item @(ViewData["PageId"] != null ? ViewData["PageId"].ToString() == "OA005" ? "active" : "" : "")">
                                <span class="iconify" data-icon="carbon:license"></span>
                                <p><a asp-action="ActivePlan" asp-controller="PlanInfo">My Plans & Licenses</a></p>
                            </li>
                            <li class="menu-nav-item outer-item">
                                <img src="~/assets/support.png" alt="" style="height:19px;width:45px;">
                                <a asp-action="Index" asp-controller="RaiseIssue"><p>Support</p></a>
                            </li>
                        </div>
                    }
                </ul>
            </div>

            <div class="close-btn" id="close-menu">
                <i class="bi bi-x-lg"></i>
            </div>
        </div>
        <div class="offerings expanded" id="offerings">
            <div class="header">
                <div class="menu-toggle" id="menu-toggle">
                    <i class="bi bi-list btn" id="ham-btn"></i>
                    <i class="bi bi-x btn" id="close-btn"></i>
                </div>
                <div class="header-cta">
                    <div class="search-bar">
                        <i class="bi bi-search"></i>
                        <input type="text" placeholder="Search here...">
                    </div>
                    <div class="notification">
                        <i class="bi bi-bell"></i>
                    </div>
                    <div class="settings">
                        <i class="bi bi-gear"></i>
                        <div class="dropdown">
                            <ul>-->
    @*<li>Edit Profile</li>
        <li>Settings</li>*@
    <!--<li><a asp-action="Logout" asp-controller="Login">Sign Out</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="user-profile">
                        <div class="name">@Context.Session.GetString("SessionInfo_EmailId")</div>
                        <div class="profile-pic">
                            @if (String.IsNullOrEmpty(Context.Session.GetString("SessionInfo_logo")))
                            {
                                <i class="bi bi-person-circle"></i>
                            }else{
                                <img height="40px" width="100%" src="@Url.Content(Context.Session.GetString("SessionInfo_logo"))" />
                            }
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>-->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/script.js"></script>
    <script src="~/js/site.js"></script>
    <script src="~/Theme/plugins/fstdropdown-master/fstdropdown.min.js"></script>


    <!-- DataTables -->
    <script src="~/Theme/plugins/datatables/jquery.dataTables.min.js"></script>
    @*<script src="~/Theme/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
        <script src="~/Theme/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
        <script src="~/Theme/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>*@
    <!-- Toastr -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js" integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
    <script src="~/Theme/plugins/toastr/toastr.min.js"></script>


    @*<script type="text/javascript">
            $(document).ready(function () {
                //$("#loader").hide();
                if ($('#tData').length > 0) {
                    var table = $('#tData').DataTable({
                        orderCellsTop: true,
                        fixedHeader: true,
                        language: {
                            'paginate': {
                                'previous': '<',
                                'next': '>'
                            },
                            'search': ""
                        },
                        searching: true,
                        //"dom": '<"toolbar">frtip',
                        "dom": '<"pull-left"f><"toolbar">tip'
                    });
                    $(".dataTables_filter input").attr("placeholder", "Search here");
                }
            });
        </script>*@
    <script type="text/javascript">
        $(document).ready(() => {
            $("#users-table").DataTable();
        });
    </script>
    <script type="text/javascript">
        function postForm(path, params, method) {
            method = method || 'post';
            var form = document.createElement('form');
            form.setAttribute('method', method);
            form.setAttribute('action', path);
            for (var key in params) {
                if (params.hasOwnProperty(key)) {
                    var hiddenField = document.createElement('input');
                    hiddenField.setAttribute('type', 'hidden');
                    hiddenField.setAttribute('name', key);
                    hiddenField.setAttribute('value', params[key]);
                    form.appendChild(hiddenField);
                }
            }
            document.body.appendChild(form);
            form.submit();
        }
    </script>
    <script>
        function updateCart(btn) {
            var validateUpdate = true;
            var _Id = $(btn).attr("id");
            var _action = $(btn).attr("action");
            var _price = $(btn).attr("price");
            var _count = $("#count_" + _Id + "").text();
            if (_action == 'sub' && _count == 1) {
                validateUpdate = false;
            }
            if (_action == 'add') {
                _count++;

            } if (_action == 'sub' && _count > 1) {
                _count--;
            }
            if (validateUpdate) {
                var formData = new FormData();
                formData.append("cId", _Id);
                formData.append("tLicencse", _count);
                $.ajax({
                    url: "@Url.Action("UpdateCart", "Home")",
                    type: "POST",
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function (res) {
                        if (res.success == true) {
                            $("#count_" + _Id + "").text(_count);
                            $("#price_" + _Id).text("$" +_count * _price);
                        } else {
                            toastr.error(res.msg)
                        }
                    },
                    error: function (err) {
                        toastr.error(err);
                    }
                });
            }

        }
    </script>
    <script>
        function RemoveProduct(btn) {
            var id = $(btn).attr("id");
            var _total = $(btn).attr("total");
             if (confirm("Are you sure want to remove this product from cart?")) {
                var formData = new FormData();
                 formData.append("cId", id);

                $.ajax({
                    url: "@Url.Action("RemoveProduct", "Home")",
                    type: "POST",
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function (res) {
                        if (res.success == true) {
                            $("#div_" + id + "").remove();
                            $("#productCount").text((_total - 1));
                        } else {
                            toastr.error(res.msg)
                        }
                    },
                    error: function (err) {
                        toastr.error(err);
                    }
                });
            }
        }
    </script>
    <script>
        // cart dropdown
        const cartBtn = document.querySelector(".header-btn.cart-btn");
        const cartDropdown = document.querySelector(".cart-dropdown");
        cartBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            cartDropdown.classList.toggle("shown");
        });
    </script>
    <script src="~/js/cookiemanager.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
